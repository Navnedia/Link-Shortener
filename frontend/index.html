<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Link Shortener</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- Stylesheets: -->
        <link rel="stylesheet" href="./styles/index.css">
        <link rel="stylesheet" href="./styles/utils.css">
        <link rel="stylesheet" href="./styles/icons.css">
        <link rel="stylesheet" href="./styles/shortlink-card.css">

        <!-- Scripts: -->
        <script type="module" src="./components/link-item.js" defer></script>
        <script type="module" src="./scripts/render.js" defer></script>
    </head>
    <body>
        <!--! Main tag makes sure the creation panel stays at the top the whole way. -->
        <main>
            <div class="creation-panel flex-center">
                <form id="creationForm" class="flex-column">
                    <label for="txtLinkName">Name</label>
                        <input type="text" id="txtLinkName" class="fancy-input" placeholder="Cat Videos">
                    
                    <label for="txtLongUrl" class="label-required">Long URL</label>
                        <div class="flex-center"> <!-- URL Bar field group -->
                            <input type="text"
                                    id="txtLongUrl"
                                    class="fancy-input url-bar"
                                    placeholder="https://example.com/users/jack/posts/cat-videos"
                                    maxlength="6144"
                                    required>
            
                            <button type="button" id="btnShorten">Shorten</button>
                        </div> <!-- End of url field group (flex-center) -->

                    <div id="creationError" class="message-container has-icon warning hidden">
                        <i class="fa-solid fa-circle-exclamation" aria-hidden="true"></i>
                        <span id="creationErrorMsg" aria-label="Error Message"></span>
                    </div> <!-- End of creation errors (message-container) -->
                </form> <!-- End of creation form -->
            </div>  <!-- end of creation panel -->

            <!-- Link items: -->
            <div id="linksContainer">
            </div>
            <!-- End of linksContainer -->
                
            <!-- Modal wrapper -->
            <div class="modal-wrapper flex-center hidden">
                <div class="modal-body">
                    <div class="modal-content flex-column">
                        <header class="modal-header">
                            <button type="button" id="btnCloseModal" aria-label="Close Edit Panel">
                                <i class="fa-solid fa-x fa-xl" aria-hidden="true"></i>
                            </button>
                            <h2 tabindex="0">Edit Panel</h2><hr>
                        </header>

                        <form id="editForm" class="flex-column">
                            <div class="field-group flex-column">
                                <label for="txtName">Name</label>
                                    <input type="text"
                                        id="txtName" 
                                        class="fancy-input" 
                                        placeholder="Add a name" 
                                        value="">

                                <span id="nameErrorMsg" class="field-error ellipsis"></span>
                            </div> <!-- End of name field group -->
                            <div class="field-group flex-column">
                                <label for="txtDestination">Long URL</label>
                                    <input type="text" 
                                        id="txtDestination" 
                                        maxlength="6144" 
                                        class="fancy-input" 
                                        placeholder="Add a destination URL"
                                        value="">

                                <span id="destinationErrorMsg" class="field-error ellipsis"></span>
                            </div> <!-- End of destination url field group -->
                            <div class="field-group flex-column">
                                <label for="txtShortName">URL Short ID</label>
                                    <div class="shortID-bar">
                                        <span id="baseUrl" class="input-addon prefix"></span>
                                        <input type="text" 
                                            id="txtShortName" 
                                            class="fancy-input has-prefix" 
                                            placeholder="Add a custom back-half" 
                                            value="">
                                    </div>
                                    
                                <div id="shortidErrorMsg" class="field-error ellipsis"></div>
                            </div> <!-- End of shortID field group -->

                            <div class="fancy-buttons flex-right">
                                <button type="button" id="btnEditCancel">Cancel</button>
                                <button type="button" id="btnEditSave">Update</button>
                            </div> <!-- End edit panel control buttons container -->
                        </form> <!-- End edit form -->
                        
                        <div id="editPanelMessage" class="message-container has-icon info hidden">
                            <i class="fa-solid fa-circle-check hidden" aria-hidden="true"></i>
                            <i class="fa-solid fa-circle-exclamation hidden" aria-hidden="true"></i>
                            <span id="editMsg" aria-label="Edit Message"></span>
                        </div> <!-- End of update messages (message-container) -->
                    </div> <!-- End modal content -->
                </div> <!-- End modal body -->
            </div> <!-- End modal wrapper -->
        </main>
    </body>
</html>